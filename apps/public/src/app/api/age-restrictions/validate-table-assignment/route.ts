import { NextRequest, NextResponse } from 'next/server';\nimport { AgeRestrictionService } from '../../../../../shared/services/age-restriction.service';\n\ninterface TableAssignmentRequest {\n  player: {\n    id: string;\n    ageGroup: string;\n    firstName: string;\n    lastName: string;\n  };\n  table: {\n    id: string;\n    number: string;\n    venueId: string;\n    ageRestriction?: string;\n    isActive: boolean;\n  };\n  venue: {\n    id: string;\n    name: string;\n    ageRestriction: string;\n    useVenueAgeForAllTables: boolean;\n  };\n  tournament: {\n    id: string;\n    name: string;\n  };\n  ageOverrides?: any[];\n}\n\nexport async function POST(request: NextRequest) {\n  try {\n    const data: TableAssignmentRequest = await request.json();\n    \n    const validation = AgeRestrictionService.validatePlayerTableAssignment(\n      {\n        id: data.player.id,\n        ageGroup: data.player.ageGroup as any,\n        firstName: data.player.firstName,\n        lastName: data.player.lastName\n      },\n      {\n        id: data.table.id,\n        number: data.table.number,\n        venueId: data.table.venueId,\n        ageRestriction: data.table.ageRestriction as any,\n        isActive: data.table.isActive\n      },\n      {\n        id: data.venue.id,\n        name: data.venue.name,\n        ageRestriction: data.venue.ageRestriction as any,\n        useVenueAgeForAllTables: data.venue.useVenueAgeForAllTables\n      },\n      {\n        id: data.tournament.id,\n        name: data.tournament.name,\n        isAgeRestricted: false\n      },\n      data.ageOverrides\n    );\n    \n    return NextResponse.json({ \n      success: true, \n      validation \n    });\n  } catch (error) {\n    console.error('Table assignment validation error:', error);\n    return NextResponse.json(\n      { \n        success: false, \n        error: error instanceof Error ? error.message : 'Internal server error' \n      },\n      { status: 500 }\n    );\n  }\n}"